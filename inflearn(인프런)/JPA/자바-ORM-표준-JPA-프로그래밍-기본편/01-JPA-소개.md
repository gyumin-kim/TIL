# 01 JPA 소개

## SQL 중심적인 개발의 문제점

현대적인 애플리케이션을 개발할 경우, 대부분 객체지향 언어를 사용한다.
데이터베이스는 대부분 관계형 DB(Oracle, MySQL 등)를 선택한다.
결국 지금 시대는 **객체를 관계형 DB에 관리**해야 하는 시대이다.
객체지향을 부르짖지만 코드를 까보면 SQL이 엄청 많다. SQL 중심적인 개발
이는 여러 문제점을 야기하는데,
- 무한 반복, 지루한 코드
  - 자바 객체를 SQL로, SQL을 자바 객체로...
  - 일일이 다 SQL 짜야 함

결국 관계형 DB를 쓰는 환경에서는 SQL에 의존적인 개발을 피하기 어렵다.

### 패러다임의 불일치
관계형 DB와 객체지향의 패러다임 자체가 다르다.
현실적인 대안은 관계형 DB를 쓰는 것.
객체를 SQL로 변환하는 것? 개발자가 직접 SQL mapper의 역할을 한다.

### 객체와 관계형 데이터베이스의 차이
1. 상속
  - 객체에는 있지만, 관계형 DB에는 없다.
2. 연관관계
  - 객체에는 있지만, 관계형 DB에는 없다.
3. 데이터 타입
4. 데이터 식별 방법

(...) 기타 내용은 나중에 다시 돌아와서 채우기

### 엔티티 신뢰 문제
SQL문에서부터 이미 가져올 데이터가 결정되어 있기 때문에, 객체 그래프를 따라 객체를 조회하는 데 있어 신뢰성 문제가 있다. 즉, 그래프를 따라 가져온 해당 값이 들어있는지 확신할 수 없다(다만 JPA는 지연로딩을 활용하여 가능함).  
layered architecture에서도 각 layer간 객체를 신뢰하고 써야 하는데, 이 부분이 문제가 될 수 있다. 즉, **진정한 의미의 계층 분할이 어렵다**.

객체답게 모델링할 수록, 번잡한 매핑 작업만 늘어난다. 그래서 그냥 SQL에 맞춰서 객체를 전송하는 역할로만 설계하게 된다.  
그럼 객체를 Java 컬렉션에 저장 하듯이 DB에 저장할 수는 없을까? 그 고민의 해답이 (Java 진영에서는) JPA다.



---
## JPA 소개
- 객체는 객체대로, 관계형 DB는 관계형 DB대로 설계하되, 그 둘 간의 차이는 ORM 프레임웤이 해결해 준다.
- JPA는 애플리케이션과 JDBC 사이에서 동작한다.
- 패러다임의 불일치를 해결한다.

. 

- EJB -> Hibernate라는 오픈소스 -> Java 진영에서 Hibernate를 기반으로 만든 JPA
- JPA는 specification으로, 인터페이스의 모음이다.
- JPA 2.1 표준 명세를 구현한 여러 구현체가 있는데, 대표적인 것이 Hibernate이다.

### JPA를 왜 사용해야 하는가?
- SQL 중심적인 개발 -> 객체 중심으로 개발
- (... 기타 내용은 slide 참조)

### ORM은 객체와 RDB 두 기둥 위에 있는 기술
